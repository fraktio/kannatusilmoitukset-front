<table class="table table-hover table-condensed initiatives" ng-cloak ng-if="initiatives">
    <thead>
    <tr>
        <th>#</th>
        <th>Aloite</th>
        <th ng-if="!list.hideTwoWeek">Kahden viikon nousu</th>
        <th>Kannatus&shy;ilmoitukset</th>
        <th>Ker√§ysaika</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="(i, initiative) in initiatives" ng-click="showInitiative(initiative)">
        <td>{{ i + 1 }}</td>
        <td><a>{{ initiative.name.fill }}</a></td>
        <td ng-if="!list.hideTwoWeek">
            <div class="clearfix">
                <div class="progress">
                    <div class="progress-bar progress-bar-success" ng-style="{ width: '' + (initiative.twoWeekSupport / list.fastest * 100) + '%' }">
                    </div>
                </div>
                {{ initiative.twoWeekSupport }}
            </div>
        </td>
        <td>
            <div class="clearfix">
                <div class="progress">
                    <div class="progress-bar progress-bar-success" ng-style="{ width: '' + initiative.totalPercentage + '%' }">
                    </div>
                </div>
                {{ initiative.currentTotal }}
            </div>
        </td>
        <td>
            <div class="clearfix">
                <div class="progress">
                    <div
                        class="progress-bar"
                        ng-class="{'progress-bar-warning': initiative.donePercentage > 70 && initiative.donePercentage < 85, 'progress-bar-danger': initiative.donePercentage >= 85}"
                        ng-style="{ width: '' + initiative.donePercentage + '%' }"
                    ></div>
                </div>
                <span class="pull-left">{{ initiative.startDate | date:'dd.MM.yyyy' }}</span>
                <span class="pull-right">{{ initiative.endDate | date:'dd.MM.yyyy' }}</span>
            </div>
        </td>
    </tr>
    </tbody>
</table>
